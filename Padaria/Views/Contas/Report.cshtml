@model IEnumerable<Padaria.Models.ViewModels.RelatorioContaFormaView>

@{
    ViewData["Title"] = "Relatório de Vendas";
}

<div class="container mt-5">
    <h1 class="text-center mb-4">@ViewData["Title"]</h1>

    
    <div class="row mb-4">
        <div class="col-md-4 mb-3">
            <div class="card text-white bg-primary shadow-sm h-100">
                <div class="card-body d-flex flex-column justify-content-between">
                    <h5 class="card-title">Quantidade de Vendas</h5>
                    <p class="card-text fs-3">@ViewBag.Vendas</p>
                    
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card text-white bg-success shadow-sm h-100">
                <div class="card-body d-flex flex-column justify-content-between">
                    <h5 class="card-title">Total de Vendas</h5>
                    <p class="card-text fs-3">R$ @ViewBag.Total.ToString("#,0.00")</p>
                    
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card text-white bg-info shadow-sm h-100">
                <div class="card-body d-flex flex-column justify-content-between">
                    <h5 class="card-title">Valor Médio</h5>
                    <p class="card-text fs-3">R$ @ViewBag.Media.ToString("F2")</p>
                    
                </div>
            </div>
        </div>
    </div>

   
    <div class="row mb-4">
        <div class="col-md-6">
            <h5 class="mb-3">Formas de Pagamento</h5>
            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Dinheiro:
                    <span class="badge bg-secondary">@ViewBag.CountDinheiro vendas</span> -
                    <strong>R$ @ViewBag.TotalDinheiro.ToString("#,0.00")</strong>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Pix:
                    <span class="badge bg-secondary">@ViewBag.CountPix vendas</span> -
                    <strong>R$ @ViewBag.TotalPix.ToString("#,0.00")</strong>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Débito:
                    <span class="badge bg-secondary">@ViewBag.CountDebito vendas</span> -
                    <strong>R$ @ViewBag.TotalDebito.ToString("#,0.00")</strong>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Crédito:
                    <span class="badge bg-secondary">@ViewBag.CountCredito vendas</span> -
                    <strong>R$ @ViewBag.TotalCredito.ToString("#,0.00")</strong>
                </li>
            </ul>
        </div>
    </div>

    
    <h2 class="mb-4">Produtos Mais Vendidos</h2>
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Produto</th>
                    <th scope="col">Quantidade Vendida</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelItem => item.Nome)</td>
                        <td>@Html.DisplayFor(modelItem => item.Quantidade)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    
    <div class="text-center mt-3">
        <a asp-action="Index" class="btn btn-lg btn-secondary">
            <i class="bi bi-arrow-left-circle"></i> Voltar à Lista
        </a>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.js"></script>
}
